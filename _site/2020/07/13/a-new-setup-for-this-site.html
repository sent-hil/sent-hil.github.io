<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
   <meta http-equiv="content-type" content="text/html; charset=utf-8" />
   <title>Dokku powered personal hub</title>
   <meta name="author" content="sent-hil" />

   <!-- syntax highlighting CSS -->
   <link rel="stylesheet" href="/css/syntax.css" type="text/css" />

   <!-- Homepage CSS -->
   <link rel="stylesheet" href="/css/screen.css" type="text/css" media="screen, projection" />
</head>
<body>

<div class="site">
  <div class="title">
    <a href="/">Senthil Arivudainambi</a>
  </div>

  <div id="post">
<h1 id="dokku-powered-personal-hub">Dokku powered personal hub</h1>

<p class="meta">07 May, 2020</p>

<p>Last July 4th weekend I took some time to redo the setup for sent-hil.com. Previously it was Jekyll app running on Github pages. For the amount of blogging I did and traffic it received, it was more than enough. However I wanted to convert sent-hil.com to be a hub for different apps. My first attempt was to use AWS ECS to deploy dockers containers, but after couple days of struggling I gave up. I tried GCP, which was more fruitful, but ultimately I ran into some technical issues.</p>

<p>At that point I gave up wth a hosted solution and started looking around for a DIY solution and ultimately found <a href="http://dokku.viewdocs.io/dokku/">dokku</a>. It took couple hours to figure it out and this is the <a href="https://github.com/sent-hil/sent-hil.com">result of it</a></p>

<p>The repo contains the following folders:</p>

<ul>
  <li>terraform - contains terraform scripts to bring up a VPC with RDS and EC2 instance.</li>
  <li>blog - Jekyll app that powers the root <a href="sent-hil.com">sent-hil.com</a> (public).</li>
  <li>graph - <a href="https://hasura.io">Hasura</a> app (private).</li>
  <li>stats - <a href="https://www.goatcounter.com">Goatcounter</a> app (private) for analytics.</li>
</ul>

<p>To deploy I do <code class="language-plaintext highlighter-rouge">git push dokku master</code>.</p>

<h2 id="downsides">Downsides</h2>

<p>This setup is horizontally challenged. dokku has some support for K8/Nomad, but it seems experiemental and I couldn’t find documentation to get started. This setup will last me for a long time. Worst case I will vertically scale the instance.</p>

<p>Overrall I’m pretty happy with the setup. It’s fairly easy to manage, cheap and I can always ssh into the instance to debug. That’s something I sorely missed when trying to work with the hosted solutions.</p>

</div>

<!-- <div id="related"> -->
<!-- <h2>Related Posts</h2> -->
<!-- <ul class="posts"> -->
<!--    -->
<!--     <li><span>13 Mar 2019</span> &raquo; <a href="/2019/03/13/sqlite3.h-is-missing-when-doing-gem-install-sqlite3-in-mojave-osx.html">sqlite3.h Is Missing When Doing 'gem install sqlite3' In Mojave OSX</a></li> -->
<!--    -->
<!--     <li><span>17 Feb 2018</span> &raquo; <a href="/2018/02/17/week-07-links.html">Week-07-links</a></li> -->
<!--    -->
<!--     <li><span>16 Jan 2018</span> &raquo; <a href="/2018/01/16/challenge-use-api-docs-more-than-google-or-stackoverflow.html">Challenge - use api docs more than Google or Stackoverflow</a></li> -->
<!--    -->
<!-- </ul> -->
<!-- </div> -->


  <div class="footer">
    <div class="contact-left">
      <p>
        A dump of my personal thoughts, ideas, links etc.<br />
        Powered by Jekyll. Original theme by <a target="_blank" href="http://tom.preston-werner.com/">Tom Preston-Werner</a>
      </p>

    </div>

    <div class="contact-right">
      <p>
        <a target="_blank" href="https://github.com/sent-hil">github.com/sent-hil</a><br />
        <a target="_blank" href="https://www.instagram.com/senthil196/">instagram.com/senthil196</a><br />
      </p>
    </div>
  </div>
</div>

</body>
</html>
